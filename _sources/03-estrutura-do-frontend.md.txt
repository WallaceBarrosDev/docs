# 3. Estrutura do Front-End

## 5.1 VisÃ£o Geral

O front-end Ã© uma **SPA (Single Page Application)** em **React + TypeScript**, focada em:

* **Clareza:** separaÃ§Ã£o explÃ­cita entre layout, pÃ¡ginas, componentes de domÃ­nio e componentes compartilhados.

* **Evolutividade:** mÃ³dulos de funcionalidade isolados, permitindo inclusÃ£o de novas features sem quebrar as existentes.

* **CoesÃ£o com o backend:** todo acesso a dados passa por um **API Client** Ãºnico, alinhado Ã  API interna descrita na Arquitetura Geral.

---

## 5.2 Camadas Principais do Front-End

```{mermaid}
graph TD

U["ğŸ§‘â€ğŸ’» UsuÃ¡rio"] --> SPA["âš›ï¸ App Root (SPA)"]

subgraph Frontend["Camadas do Frontend"]
    SPA
    Router["ğŸ§­ Router"]
    Layout["ğŸ“ Layout / App Shell"]
    Pages["ğŸ“„ PÃ¡ginas"]
    Features["ğŸ§© Funcionalidade"]
    UIShared["ğŸ¨ UI Compartilhada"]
    Hooks["ğŸª Hooks / Estado"]
    ApiClient["ğŸŒ API Client"]
end

SPA --> Router
Router --> Layout
Layout --> Pages
Pages --> Features
Features --> UIShared
Features --> Hooks
Hooks --> ApiClient

%% Estilos padronizados (mesma paleta da Arquitetura Geral)
classDef user fill:#f5f5f5,stroke:#333,color:#000;
classDef frontend fill:#61dafb,stroke:#333,color:#000;
classDef backend fill:#68a063,stroke:#333,color:#000;
classDef external fill:#4479a1,stroke:#333,color:#fff;
classDef db fill:#6c5ce7,stroke:#333,color:#fff;
classDef cache fill:#ff6b6b,stroke:#333,color:#000;
classDef auth fill:#fdd835,stroke:#333,color:#000;

class U user;
class SPA,Router,Layout,Pages,Features,UIShared,Hooks,ApiClient frontend;
```

**DescriÃ§Ã£o rÃ¡pida das camadas:**

* **App Root (SPA):** ponto de entrada da aplicaÃ§Ã£o React.

* **Router:** define as rotas e faz o mapeamento `URL â†’ PÃ¡gina`.

* **Layout/App Shell:** cabeÃ§alho, menu, rodapÃ©, Ã¡reas fixas.

* **PÃ¡ginas:** containers de alto nÃ­vel (ex.: Dashboard, ConfiguraÃ§Ãµes).

* **MÃ³dulos de Funcionalidade:** lÃ³gica e UI especÃ­ficas de cada domÃ­nio.

* **UI Compartilhada:** componentes genÃ©ricos (botÃµes, tabelas, modais...).

* **Hooks/Estado:** controle de estado local/global, side effects e chamadas.

* **API Client:** encapsula chamadas HTTP Ã  API interna.

---

## 5.3 OrganizaÃ§Ã£o de Pastas

A estrutura abaixo Ã© apenas um **modelo recomendado**, podendo ser ajustada ao projeto real:

```text
src/
  main.tsx              # bootstrap da aplicaÃ§Ã£o
  app/
    App.tsx            # App root / shell principal
    routes/            # DefiniÃ§Ã£o de rotas e loaders
    layout/            # Layouts (AppShell, layouts especÃ­ficos)
  modules/
    dashboard/
      pages/
      components/
      hooks/
      services/
    settings/
      pages/
      components/
      hooks/
      services/
    shared/
      components/      # BotÃµes, inputs, tabelas genÃ©ricas
      hooks/           # Hooks reutilizÃ¡veis (useDebounce, useModal, ...)
      lib/             # Utilidades, formatadores, mapeadores
  core/
    api/               # API Client, interceptors, typed clients
    config/            # ConfiguraÃ§Ãµes gerais (URLs, feature flags)
    store/             # Estado global (se houver: Redux, Zustand, etc.)
    types/             # Tipos globais / DTOs compartilhados
  assets/              # Ãcones, imagens, fontes
```

---

## 5.4 Fluxo de RenderizaÃ§Ã£o e Dados no Front-End

```{mermaid}
flowchart LR
    U["ğŸ§‘â€ğŸ’» UsuÃ¡rio"] --> UI["ğŸªŸ UI (Componentes)"]
    UI --> State["ğŸ§  Estado (hooks/store)"]
    State --> ApiClient["ğŸŒ API Client"]
    ApiClient --> State
    State --> UI

%% Estilos padronizados reutilizados
classDef user fill:#f5f5f5,stroke:#333,color:#000;
classDef frontend fill:#61dafb,stroke:#333,color:#000;
classDef backend fill:#68a063,stroke:#333,color:#000;
classDef external fill:#4479a1,stroke:#333,color:#fff;
classDef db fill:#6c5ce7,stroke:#333,color:#fff;
classDef cache fill:#ff6b6b,stroke:#333,color:#000;
classDef auth fill:#fdd835,stroke:#333,color:#000;

class U user;
class UI,State,ApiClient frontend;
```

Resumo do fluxo:

1. O **usuÃ¡rio interage** com a UI (cliques, inputs, navegaÃ§Ã£o).

2. Os **componentes** disparam aÃ§Ãµes que atualizam o **estado** (hooks/store).

3. O estado chama o **API Client** quando precisa de dados do backend.

4. O API Client recebe a resposta da API interna e atualiza o **estado**.

5. A mudanÃ§a de estado **re-renderiza** a UI de forma reativa.

---

## 5.5 DecisÃµes de Front-End

* âš›ï¸ **SPA em React + TS:** reduz recarregamentos de pÃ¡gina e melhora UX.

* ğŸ§­ **Router centralizado:** facilita proteÃ§Ã£o de rotas e layouts por seÃ§Ã£o.

* ğŸ§© **MÃ³dulos por domÃ­nio:** as features ficam isoladas e fÃ¡ceis de evoluir.

* ğŸ¨ **UI compartilhada:** evita duplicaÃ§Ã£o de componentes visuais.

* ğŸª **Hooks para lÃ³gica reutilizÃ¡vel:** separa a lÃ³gica de negÃ³cios da camada de apresentaÃ§Ã£o.

* ğŸŒ **API Client Ãºnico:** padroniza headers, autenticaÃ§Ã£o, tratamento de erros e logging.

* ğŸ“ **Estrutura de pastas previsÃ­vel:** ajuda novos devs a navegar no projeto rapidamente.

